## 2장 타입
### 타입 애너테이션 방식
타입 애너테이션이란 변수나 상수에 타입을 명시적으로 선언하여 컴파일러에게 어떤 값이 저장될 지 알려주는 문법

 - 자바 : int woowhahanNum = 2020
 - 타입스크립트 : const woowhahanNum : number = 20

 타입스크립트는 점진적 언어라서 선언부를 제거해도 코드가 동작하지만 타입 시스템이 타입을 추론하는 과정에서 어려움을 겪을 것이다.

### 구조적 타이핑
> 명목적 타이핑 
> 하나의 구체적인 타입을 가지고 타입은 이름으로 구분되며 명확한 상속관계나
> 공통 인터페이스가 없다면 타입은 서로 호환되지 않는다.

구조적 타이핑 :  구조로 타입을 구분

### 구조적 서브타이핑
타입스크립트에서 타입은 집합의 개념으로 이해할 수 있다.
string | number 같은 집합으로 나타내는 타입스크립트의 타입 시스템을 지탱하는 개념이 구조적 서브타이핑이다.
이름이 다른 객체라도 가진 속성이 동일하다면 서로 호환이 가능한 동일한 타입으로 여긴다

```javascript
  interface Pet { name : string; }
  interface Cat { name : string; age : number }
  let pet : Pet; let cat : Cat = { name : 'Zag', age: 2}
  pet = cat // 가능
```

### 자바스크립트를 닮은 타입스크립트
명목적 타이핑은 이름으로 타입을 구분하여 구조가 같아도 이름이 다르면 다른 타입이다. Java, C++에서 사용된다. 더 안정성이 높다.
그럼에도 타입스크립트가 구조적 타이핑을 사용하는 이유는 js가 덕 타이핑을 기반으로 하기 때문이다.
> 덕타이핑
> 매개변수값이 올바르게 주어진다면 그 값이 어떻게 만들어져는지 신경 쓰지 않는다.
> ex) 어떤 새가 오리처럼 걷고, 헤엄치며 꽥꽥 소리를 낸다면 그 새는 오리다!

구조적 타이핑과 덕 타이핑의 차이는 구조적 타이핑은 컴파일 타임에 타입체커가 타입을 검사하고 덕 타이핑은 런타임에 타입을 검사한다.
주로 구조적 타이핑은 정적타이핑에서 사용되고 동적 타이핑에서 덕 타이핑이 사용된다.
### 구조적 타이핑의 결과
```javascript
  interface Cube { width : number; height : number; }
  function addLines(c : Cube) {
    for (const axis of Object.keys(c))
      const length = c[axis]
    total += length
  }
```
여기서 c[axis]는 string일 수 있다는 에러가 발생한다. 
구조적 타이핑에서는 width: 2, height : 2, name : 'jihyeon'라는 값도 들어올 수 있기 때문이다. 이러한 한계를 극복하고자 유니온 같은 방법이 생겼다.

### 6.타입스크립틔 점진적 타입 확인
타입스크립트는 지정된 변수와 표현식은 정적으로 타입을 검사하지만 타입 선언이 생략되면 동적으로 검사하고 추론한다. 점진적 언어지만 타입스크립트는 컴파일 타임에 모든 타입을 알고 있을 때 최상의 결과를 보여준다.

### 7. 자바스크립트 슈퍼셋으로서의 타입스크립트
모든 자바스크립트는 타입스크립트 코드라고 볼 수 있지만 모든 타입스크립트는 자바스크립트라고 볼 수 없다.

### 값 VS 타입
값은 프로그램이 처리하기 위해 메모리에 저장하는 모든 데이터
타입 공간과 값 공간은 네임스페이스가 달라 이름이 같아도 충돌 되지 않는다.
enum와 class는 값과 타입 공간이 동시에 존재하는 심볼이다.
클래스는 객체 인스턴스를 쉽게 생성하기 위한 문법으로 값과 타입 공간에 모두 포함될 수 있다.

클래스와 enum은 런타임에 객체로 변환되는 값이다.
enum에서 숫자 열거형은 즉시실행함수(IIFE)가 실행하여 양방향 매핑이 만들어지고
문자열 열거형에서는 단방향 매핑만 만든다.
자바스크립트에서는 여러 키워드가 값 또는 타입으로 해석된다.

|키워드|값|타입|
|---|---|---|
|class|Y|Y|
|enum|Y|Y|
|interface|N|Y|

> 트리쉐이킹
> 사용하지 않는 코드를 삭제하는 방식
> 웹팩, 롤업 같은 모듈 번들러로 번들링 작업을 할 때 자동으로 삭제된다.
### 타입을 확인하는 방법
값공간으로 typeof는 자바스크립트의 7가지 기본데이터 타입만 출력된다.
타입에서 typeof는 타입스크립트 타입을 반환한다.
```javascript
  type T1 = typeof Person // Person
  const v1 = typeof Person // object
  typeof T = typeof Developer // 는 typeof Develope가 나온다.
``` 

타입단언 as는 타입 형 변환을 강제할 수 있지만 런타임에서는 효력을 발생시키지 못해 오류가 발생할 수 있다.
