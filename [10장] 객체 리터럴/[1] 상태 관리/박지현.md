### 상태
- 렌더링 결과에 영향을 주는 정보를 담은 순수한 자바스크립트 객체
- 지역 상태
  - 컴포넌트 내부에서 사용되는 상태
- 전역 상태
  - 앱 전체에서 공유하는 상태
- 서버상태
  - 외부 서버에서 저장해야하는 상태 react-query swr로 요즘엔 관리

- 상태가 없는 컴포넌트를 활용하는게 제일 좋지만 불가능하다.
- 그래서 상태를 잘 사용해야 한다.

- 시간이 지나도 변하지 않는 값은 객체의 참조 동일성을 유지하면 리렌더링마다 다시 그려지지 않는다.
- 단순한 변수에 저장해도 렌더링마다 새로운 객체 인스턴스가 생겨서 불필요한 계산이 생긴다.
- 그래서 리렌더링 시에도 유지하기 위해서 useRef를 사용해서 관리하면 좋다. 리렌더링 시 다시 그려지지 않는다.
```javascript
const store = useRef<Store>(null);

if(!store.current) { store.current = new Store(); }
```
- 이런식으로 관리하면 초기값이 없을때만 생기고 참조가 유지된다.
- useMemo를 통한 메모이제이션이 의미상으로 보장된 것이 아니라는 말은 리엑트에서 메모리 확보를 위해 지울 수도 있다는 말이다.
- 그래서 새로운 참조가 생길 수도 있다는 말

- SSOT(Single Source Of Truth) 어떠한 데이터도 단 하나의 출처에서 생성하고 수정해야 한다.
- Input 같은 것도 부모에서 상태를 만들고 아래 컴포넌트에서 내려준 상태로 관리해야 한다.

### useState vs useReducer
- useReducer 하위 필드를 포함하고 있는 복잡한 상태 로직을 다룰 때 또는 다음 상태가 이전 상태에 의존적일 때
- 복잡한 상태 관리는 useState 만으로는 한계가 있다.
- Reducer로 action을 정해놓고 dispatch로 action을 호출해서 쉽게 함수사용해서 상태를 업데이트 가능

### 전역 상태 관리와 상태 관리 라이브러리
- 컨텍스트 API
  - 프로바이더를 넣고 하위 컴포넌트에서 구독하여 사용하는 API
  - 상태를 컨텍스트 API로 넣는 일은 안 좋을 수 있다.
  - 왜냐면 props로 주입된 값이나 참조가 변경될 때 마다 해당 컨텍스트를 구독하고 있는 모든 컴포넌트가 리렌더링 되어서 찾술에서 짠 코드를 다시 봐바야 겠다.
  - 컨텍스트 API는 UI테마 정보나 로케일 데이터 값은 전역적으로 제공하는 데이터를 쓸 때만 사용하면 좋을 듯
