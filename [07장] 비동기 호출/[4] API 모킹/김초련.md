#API 모킹
서버 API 완성되기 전 개발을 하는 경우 존재 -> 프론트엔드 개발을 어떻게 진행할지 고민.
매번 테스트를 위해 구현을 반복해야 하는 번거로움 존재할 수 있음 --> 이때 "모킹"이라는 방법 활용 가능.

모킹이란?
가짜 모듈을 활용하는 것을 말한다. 모킹은 테스트할 때뿐 아니라 개발할 때도 사용 가능하다
또한, dev 서버가 불안한거나 AWS 등에 문제가 생겼을 때와 같은 서버 상태에 문제가 발생한 경우에도 서버의 영향을 받지 않고 개발을 할 수 있게 된다

#JSON 파일 불러오기
간단한 조회만 하는 겨우 .json 파일을 만들거나 자바스크립트 파일 안에 JSON 형식의 정보를 저장하고 익스포트 해주는 방식을 사용하면 된다

#NextApiHandler 활용하기
Next.js를 사용하고 있으면 NextApiHandler를 활용 가능.

Next.js란?
리액트 기반의 프론트엔드 프레임워크. 리액트 애플리케이션을 쉽게 구축하고 운영하기 위한 도구를 제공하는 프레임워크.

핸들러를 정의하는 것은 간단하다. 응답하고자 하는 값을 정의하고 핸들러 안에서 요청에 대한 응답을 정의.
핸들러를 사용하는 경우 단순히 파일을 불러오는 것과 다르게 중간 과정에 응답 처리 로직을 추가할 수 있음

#API 요청 핸들러에 분기 추가하기
요청 경로를 수정하지 않고 평소에 개발할 때 필요한 경우에만 실제 요청을 보내고 그 외에는 목업을 사용하여 개발하고 싶으면 다음과 같이 처리할 수 있음
API 요청을 훅 또는 별도 함수로 선언해준 다음 조건에 따라 목업 함수를 내보내거나 실제 요청 함수를 내보낼 수 있음

#axios-mock-adapter로 모킹하기
서비스 함수에 분기문이 추가되는 것을 바라지 않는다면 라이브러리를 사용하면 된다

#목업 사용 여부 제어하기
로컬에서는 목업을 사용하고 dev나 운영 환경에서는 사용하지 않으려면 간단한 설정을 해주면 되는데 플래그를 사용하여 목업으로 개발할 떄와 개발하지 않을 때를 구분할 수 있음
프로덕션에서 사용되는 코드와 목업을 위한 코드를 분리할 필요가 없음
로컬에서 개발할 때는 주로 목업을 사용하고, dev 서버 환경이 필요할 때는 dev 서버를 바라보도록 설정할 수 있다.

따라서 프론트엔드와 서버를 독립시킬 수 있고 혹여나 dev 서버에 문제가 생기더라도 로컬에서 진행되는 프론트엔드 개발에는 영향을 주지 않는다

목업을 사용할 때 네트워크 요청을 확인하고 싶을 때는 네트워크에 보낸 요청을 변경해주는 Cypress같은 도구의 웹훅을 사용하면 된다

Cypress란?
프론트엔드 테스트를 위한 오픈 소스 자바스크립트 엔드 투 엔드 테스트 도구다.
주로 웹 애플리케이션의 동작을 시뮬레이션하고 테스트하는 데 사용된다
Cypress는 사용하기 쉽고 강력한 기능을 제공하는 웹 애플리케이션을 더욱 견고하고 안정적으로 개발할 수 있도록 도와준다 

모킹 방식 외에도 최근에는 서비스워커를 활용하는 라이브러리인 MSW를 도입한 팀도 있음.
MSW를 사용하면 모킹 시 개발 환경과 운영 환경을 분리할 수 있으며, 개발자 도구의 네트워크 탭에서 API 통신을 확인할 수 있음



